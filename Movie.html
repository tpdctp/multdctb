<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Xtream Codes IPTV Movie Player</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css'>
  <style>
    body {
      background: #000;
      color: #fff;
    }

    .video-container {
      padding: 20px;
      display: flex;
      justify-content: center;
      position: relative;
    }

    .embed-responsive {
      width: 100%;
    }

    .logo-container {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000; /* Ensure logo is above player controls */
    }

    .video-selection {
      margin-top: 20px;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="video-container">
    <div class="logo-container">
      <img src="https://raw.githubusercontent.com/tvtelugu/play/main/images/TVTELUGU-B.png" alt="Logo" style="max-width: 100px; height: auto;">
    </div>
    <div class="embed-responsive embed-responsive-16by9">
      <div id="player-container" class="embed-responsive-item"></div>
    </div>
  </div>
  <div class="video-selection">
    <label for="channel-select">Select a Movie:</label>
    <select id="channel-select" class="form-control">
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167178.mp4">Iâ€™ll Be Watching (2023)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167180.mp4">Jacir (2023)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167181.mp4">Jack Reacher: Never Go Back (2016)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167182.mp4">Jailbreak (2017)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167183.mp4">Jeepers Creepers: Reborn (2022)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167184.mp4">Jessica Forever (2019)</option>
      <option value="http://starshare.live:8080/movie/rvdgdf7647564/bvchgfd235454/167185.mp4">Jethica (2023)</option>
    </select>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clappr/0.2.98/clappr.min.js"></script>
<script>
  const introVideo = 'https://github.com/tvtelugu/play/raw/main/tvtelugu.mp4'; // Intro video URL
  let mainVideo = '';
  const videoPlayer = document.getElementById('video-player');

  function playIntroThenMain(intro, main) {
    videoPlayer.src = intro;
    videoPlayer.play().catch(error => {
      console.error('Error playing the intro video:', error);
      alert('Error playing the intro video');
    });
    videoPlayer.onended = function() {
      videoPlayer.src = main;
      videoPlayer.play().catch(error => {
        console.error('Error playing the main video:', error);
        alert('Error playing the main video');
      });
    };
  }

  // Initial video setup
  videoPlayer.src = introVideo;
  videoPlayer.play().catch(error => {
    console.error('Error playing the initial intro video:', error);
    alert('Error playing the initial intro video');
  });

  // Function to change video source based on dropdown selection
  document.getElementById('channel-select').addEventListener('change', function() {
    mainVideo = this.value;
    playIntroThenMain(introVideo, mainVideo);
  });

  // Error handling
  videoPlayer.onerror = function() {
    console.error('Error playing the video');
    alert('Error playing the video');
  };

  // Play video on source change
  videoPlayer.oncanplay = function() {
    videoPlayer.play().catch(error => {
      console.error('Error playing the video oncanplay:', error);
      alert('Error playing the video oncanplay');
    });
  };
</script>
</body>
</html>
