<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><?php echo htmlspecialchars($videoTitle); ?> - Tataplay Live</title>
    <link rel="stylesheet" href="./player.css">
    <style>
        #player {
            position: absolute;
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>
<body>
    <div id="player"></div>

    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <script>
        const playerInstance = jwplayer("player").setup({
            controls: true,
            sharing: true,
            displaytitle: true,
            autoplay: true,
            displaydescription: true,
            abouttext: "TVtelugu",
            aboutlink: "https://t.me/tvtelugu",

            skin: {
                name: "netflix"
            },

            logo: {
                file: "<?php echo htmlspecialchars($logoUrl); ?>",
                link: "https://t.me/tvtelugu"
            },

            captions: {
                color: "#FFF",
                fontSize: 14,
                backgroundOpacity: 0,
                edgeStyle: "raised"
            },

            playlist: [
                {
                    title: "<?php echo htmlspecialchars($videoTitle); ?>",
                    description: "You're Watching",
                    image: "<?php echo htmlspecialchars($logoUrl); ?>", // Assuming no specific image, using channel name instead
                    sources: [
                        {
                            file: "<?php echo htmlspecialchars($videoUrl); ?>",
                            type: "dash",
                            label: "1080p",
                            default: true,
                            drm: { 
                                "clearkey": {  
                                    "keyId": "<?php echo htmlspecialchars($keyid); ?>",
                                    "key": "<?php echo htmlspecialchars($key); ?>" 
                                } 
                            }
                        }
                    ]
                }
            ],
            advertising: {
                client: "vast",
                schedule: [
                    {
                        offset: "pre",
                        tag: ""
                    }
                ]
            }
        });

        playerInstance.on("ready", function () {
            // Add custom logic if needed when player is ready
        });
    </script>
</body>
</html>
